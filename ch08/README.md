# CH 08. 템플릿 메소드 패턴

### 찬미님 발표 정리

템플릿 메서드 패턴의 핵심은 알고리즘의 골격이 슈퍼클래스에서 정의된다는 것이다.

코드 중복을 줄이고 확장성을 위해 사용한다.

후크를 통해 재정의하여 프로세스를 실행할지 결정할 수 있다.

할리우드 패턴은 비단 템플릿 메서드 패턴 뿐만 아니라 프로그래밍할 때 중요한 원칙인거 같다.

### 토론

혁님: @Transactional도 템플릿 메서드 패턴으로 봐도 될까요?

찬미님: AOP까지는 애매한거 같다. 먼저 어노테이션 기술이 명시적으로 JDBCTemplate처럼 드러내지 않는다. 

템플릿 메서드 패턴을 상속으로 구현했는지 여부에 따라 달리 해석될 수 있어도 AOP 또한 전체 중 특정 알고리즘을 추상화하여 구현을 제공한다는 측면에서 비슷할 수 있을거 같다.

결국 정리하자면 템플릿 메서드 패턴은 상속을 했는지 하지 않았는지의 여부보다는 알고리즘의 골격. 흐름의 공통된 부분을 추상화하고, 달라지는 부분을 인터페이스로 추상화하여 구현을 위임한다는 측면이 중요한거 같다.

### 찬미님 프로젝트 공유

차세대 프로젝트: 여러 가지 다른 포멧의 정산 데이터를 추상화하여 api로 보내야 하는 사례가 있었는데 템플릿 메서드 패턴과 전략 패턴 중 어느 패턴을 사용하는게 좋을지 고민되었다. (참고로 전략 패턴을 사용해서 해결했다)

결론: 여러 포멧의 데이터를 추상화하는 알고리즘 중 공통된 부분을 추출하기 어려워 보이니 전략패턴이 더 맞는거 같다.

진규님: 책에서(p331) 알고리즘을 큼직한 몇 가지 단계로 나눠 놓으면 유연성이 떨이진다는 단점이 있다고 했는데, 유연성이 떨어지는 이유는 뭘까요?

찬미님: hook이 알고리즘을 비틀거나 나누어서 유연성을 추가한 것처럼 알고리즘을 크게 나누면 커스텀하기 힘들기에 유연성이 떨어진다고 표현한거 같다.

### 패턴의 범위를 정하기 어렵다

이전부터 이야기가 나왔던 부분이지만 패턴의 범위를 무 자르듯 나누기 어려운거 같다. 관점에 따라 코드가 다양한 패턴이 적용됐다고 볼 수 있기 때문이다. 다만, 디자인 패턴을 공부하는 이유는 책 초반에서 언급한 것과 같이 여러 사람들과 협업하는 과정에서 공통된 이해를 바탕으로 의사소통하기 쉬워지기 때문에 목적에 따라 분명하게 이해할 필요가 있다.

최종 목적은 상속, 구성, 추상화를 통한 유연성을 높이는 것이지 않을까

찬미님: 경계가 모호하지만 소통을 위해서는 알려져있는 패턴을 명확하게 파악해서 여러 사람들과 이해하기 좋게 여러 패턴을 정의하는게 중요하지 않을까(예를 들어 클래스 이름에 패턴 이름을 명명해서 왜 이렇게 구현했는지 드러내는게 이해하기 좋을 것이다)
