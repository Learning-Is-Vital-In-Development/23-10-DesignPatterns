---
marp: true
backgroundColor: #FFFFF0
theme: gaia
_class: lead
---

# 디자인 패턴 소개와 전략 패턴

<br>

## 최 혁

---

## 상속을 코드 재사용 측면에서 사용한다면?

**상황**: MallardDuck, RedheadDuck, RubberDuck는 Duck 추상 클래스를 상속했다. Duck 추상 클래스는 quack(), swim() 등의 구현 메서드를 갖고 있어 자식 클래스들이 사용한다.

`- 만약 RubberDuck은 다른 소리를 내도록 변경하고 싶다면?`
`- 만약 DecoyDuck이라는 날 수도 없고 소리도 못 내는 오리를 만들고 싶다면?`

**=> 재정의하여 사용하면 다음과 같은 단점이 있다!**

---

## 행동을 상속할 때 단점

- 서브클래스에서 코드가 중복된다.
- 실행 시 특징을 바꾸기 힘들다.
- 모든 오리의 행동을 알기 힘들다.
- 부모 코드를 변경했을 때 다른 오리들에게 원치 않은 영향을 끼칠 수 있다.

**또한 오브젝트, 이펙티브 자바에서도 다음과 같이 경고한다.**

- 캡슐화 위반: 자식 클래스가 부모 클래스에 강하게 결합된다.
- 설계가 유연하지 않음: 부모 클래스와 자식 클래스 사이의 관계를 컴파일 시점에 결정하기에 실행 시점에 객체의 종류를 변경하는 것이 불가능하다.

---

### 상속이 아닌 다른 방법으로 변하는 부분과 변하지 않는 부분을 구분해야 한다!

**전략패턴: 알고리즘군을 정의하고 캡슐화해서 각각의 알고리즘군을 수정해서 쓸 수 있게 해 준다.**

1. 인터페이스를 통해 변하는 부분을 추상화한다.
2. 변하는 부분의 구현체(class)를 만든다.
3. 행동하는 class에 인터페이스를 composition한다.

**위처럼 구현하면 변하는 부분이 캡슐화되기에 변하지 않는 부분에 영향을 미치지 않고 변하는 부분만 수정 및 확장 가능하다.**

---

### 전략 패턴의 장점

**- 실행 이후 특징(알고리즘)을 변경하기 쉬우며 부모 코드를 변경했을 때 자식들에게 영향을 끼치지 않는다.**

**- 템플릿 메서드 패턴에 비해 구현 코드 재활용이 가능하다.**

**- 런타임시 전략을 변경할 수 있다.**

### 전략 패턴의 단점

**- 자식 클래스들이 너무 많으면 수많은 자식 클래스를 구현하기 힘들다.**

**- 자식 클래스들이 너무 적고, 확장 가능성이 없다면 if문 분기가 더 가독성 좋다.**

---

### 전략패턴은 언제 좋을까?

- 100가지 종류의 오리들이 조금씩 다른 방식으로 동작한다.(이름만 다르고 행동이 똑같은 경우가 많다)
- 오리들의 행동이 많다(적다).
- 오리들의 특성이 거의 변하지 않는다(수시로 변한다).
