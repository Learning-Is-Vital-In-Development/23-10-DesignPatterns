---
marp: true
_class: invert
---

# Ch. 09 μ»΄ν¬μ§€νΈ ν¨ν„΄ (Composite Pattern)

## **μ»΄ν¬μ§€νΈ ν¨ν„΄**μ€ 
κ°λ³„ κ°μ²΄μ™€ λ³µν•© κ°μ²΄λ¥Ό λ™μΌν• μΈν„°νμ΄μ¤λ΅ λ‹¤λ£¨μ–΄ μΌκ΄€λ μ²λ¦¬λ¥Ό κ°€λ¥ν•κ² ν•λ” κµ¬μ΅° ν¨ν„΄μ΄λ‹¤.

> `λ³µν•©κ°μ²΄λ¥Ό λ‹¤λ£¨λ” κ²ƒκ³Ό λ‘κ°™μ΄ κ°λ³„κ°μ²΄ λ‹¤λ£¨κΈ°`
> `νΈλ¦¬ κµ¬μ΅°λ΅ μ „μ²΄μ™€ λ¶€λ¶„μ„ ν‘ν„ν•κΈ°`
---

## λ¬Έμ  μƒν™©: λ©”λ‰΄μ™€ μ„λΈλ©”λ‰΄ κµ¬μ΅°
- λ μ¤ν† λ‘μ λ©”λ‰΄μ—λ” μ—¬λ¬ κ°μ μ„λΈλ©”λ‰΄κ°€ μμ„ μ μμΌλ©°, μ„λΈλ©”λ‰΄ μ•μ— λ λ‹¤λ¥Έ μ„λΈλ©”λ‰΄κ°€ μμ„ μλ„ μλ‹¤.
- μ΄λ¬ν• λ³µμ΅ν• κµ¬μ΅°λ¥Ό ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•κ³  μ²λ¦¬ν•κ³  μ‹¶λ‹¤.

---

## ν•΄κ²°μ μ•„μ΄λ””μ–΄: μ»΄ν¬μ§€νΈ ν¨ν„΄μ„ μ΄μ©ν• νΈλ¦¬ κµ¬μ΅°
- Menu : MenuComponent ν΄λμ¤μ λ‚΄μ© κµ¬ν„ + Leafμ λ‚΄μ© -> μμ‹λ“¤μ—κ² μ „λ‹¬ 
    - λ‹¨μΌ μ±…μ„μ μ›μΉ™μ„ μ„λ°°ν•λ” λ€μ‹  ν¬λ…μ„± μ–»μ
```java
public interface MenuComponent {
    void add(MenuComponent menuComponent);
    void remove(MenuComponent menuComponent);
    MenuComponent getChild(int i);
    void print();
}
```
---

---

## ν•µμ‹¬ κµ¬μ„±μ”μ†

### Component
- κ°λ³„ κ°μ²΄μ™€ λ³µν•© κ°μ²΄μ κ³µν†µ μΈν„°νμ΄μ¤

### Leaf
- κ°λ³„ κ°μ²΄λ¥Ό λ‚νƒ€λ‚΄λ” ν΄λμ¤

### Composite
- λ³µν•© κ°μ²΄λ¥Ό λ‚νƒ€λ‚΄λ” ν΄λμ¤

### Client
- Component μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ κ°λ³„ λ° λ³µν•© κ°μ²΄λ¥Ό λ‹¤λ£¨λ” ν΄λμ¤

---

## μ¥μ  λ° ν™μ©

- **κ³„μΈµ κµ¬μ΅° ν‘ν„**: νΈλ¦¬ κµ¬μ΅°λ΅ λ³µμ΅ν• κ³„μΈµ κµ¬μ΅°λ¥Ό ν‘ν„
- **μ½”λ“ λ‹¨μν™”**: ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ κ°λ³„ κ°μ²΄μ™€ λ³µν•© κ°μ²΄λ¥Ό λ™μΌν•κ² λ‹¤λ£¨λ―€λ΅ λ‹¨μν™”
- **ν™•μ¥μ„±**: μƒλ΅μ΄ Component νƒ€μ…μ„ μ‰½κ² μ¶”κ°€ κ°€λ¥
- **μ¬μ‚¬μ©μ„±**: κ³µν†µ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ―€λ΅ μ½”λ“ μ¬μ‚¬μ©μ„± ν–¥μƒ

---

## Iterableκ³Ό Enhanced For λ¬Έ

- μ»΄ν¬μ§€νΈ ν¨ν„΄μ€ μλ°”μ `Iterable` μΈν„°νμ΄μ¤μ™€ νΈν™ κ°€λ¥
- Enhanced for λ¬Έμ λ‚΄λ¶€λ™μ‘μ€ `Iterable.iterator`λ¥Ό νΈμ¶ν•λ‹¤.

---
```java
public class MyIterableCollection implements Iterable<Integer> {
    private List<String> jjangguList = Arrays.asList("ν•λ‚", "λ‘", "μ…‹", "μ•Ό!");

    @Override
    public Iterator<Integer> iterator() {
        System.out.println("πiteratorκ°€ νΈμ¶λ¨β­οΈ");
        return jjangguList.iterator();
    }

    public static void main(String[] args) {
        MyIterableCollection collection = new MyIterableCollection();

        for (String string : collection) {
            System.out.println(string);
        }
    }
}
```

---

# μ»΄ν¬μ§€νΈ ν¨ν„΄ μ”μ•½

- κ°λ³„ λ° λ³µν•© κ°μ²΄λ¥Ό **μΌκ΄€λ λ°©μ‹μΌλ΅ λ‹¤λ£Έ**
- **νΈλ¦¬ κµ¬μ΅°**λ΅ λ³µμ΅ν• κ³„μΈµ κµ¬μ΅° ν‘ν„
- **μ„¤κ³„μ μ μ—°μ„±**κ³Ό **μ½”λ“ μ¬μ‚¬μ©μ„±** ν–¥μƒ
