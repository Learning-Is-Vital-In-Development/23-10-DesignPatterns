---
marp: true
---

# 데코레이터 패턴

## 최혁

---

# 요구사항

    커피에 첨가물에 따라 가격을 계산하는 시스템!

### 첫 시스템

우유, 두유, 모카 등의 첨가물에 따라 다른 커피들을 전부 클래스로 구현하여 Beverage 클래스를 상속하도록 했다.

    클래스 폭발이 일어난다!

---

# 해결법?

    Beverage 클래스에 milk, soy, mocha 등의 첨가물을 boolean 필드값으로 관리하면 어떨까?

**첨가물 가격이 변하거나 종류가 많아질 때마다 기존 코드를 고쳐야 한다**

## OCP 원칙

**확장에 열려있고, 변경에 닫혀 있어야 한다.**

위 해결법은 확장이 어렵다!

---

# 데코레이터 패턴

    객체에 추가 요소를 동적으로 더할 수 있다

- 데코레이터의 슈퍼클래스는 자신이 장식할 객체의 슈퍼 클래스와 같다.(장식할 객체의 슈퍼클래스 타입으로 담아 사용하기 때문이다)
- 한 객체를 여러 개의 데코레이터로 감쌀 수 있다.
- **데코레이터는 자신이 장식하고 있는 객체에게 어떤 행동을 위임하는 일 말고도 추가 작업을 수행할 수 있다.**
- 객체는 언제든지 감쌀 수 있으므로 실행 중에 필요한 데코레이터를 마음대로 적용할 수 있다.

---

# 데코레이터 패턴의 장단점

### 장점

- 상속 없이 클래스의 기능을 확장할 수 있다.
- 높은 유연성을 가질 수 있다.

### 단점

- 남돌이 보기 힘든 디자인이 만들어질 수 있다.(자바 I/O)
- 특정 형식에 의존하는 코드는 데코레이터를 적용할 수 없다.
- 구성 요소를 초기화하는데 필요한 코드가 훨씬 복잡해진다.
