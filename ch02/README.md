# CH 02. 옵저버 패턴

## 내용 정리

질의응답

풀방식 양방향 참조?
양방향 참조는 안된다 주제가 있고 옵저버가  인터페이스 리스트를 받으니까 그럴일은 없지 않을까?
옵저버 패턴 학습중 옵저버 패턴에서 서브젝트가 하는 행위가 있는데 컨테이너가 있으면 컨테이너 추가하고 삭제하고 알려주고 하는. 행위들은 서브젝트의 핵심이니까 인터페이스로 분리를 했다. 옵저버 패턴 갖추기 위해서는 등록하고 제거하는 기능의 강제가 필요해서 인터페이스를 사용한다.

정찬미님 : 양방향 문제는 안 생기지 않을까?
어떻게든 코드에서 프로그래머가 악용을 할 구석이 있다고 생각 일단 의존성을 양방향으로 가졌으니까 문제를 야기할지도??
순환참조 : 서로 순환되어 참조할 경우 생기는 문제
둘 다 서로를 계속 참조하니까 가비지 컬렉터에서 삭제 안 될 수도 있다.

한예성 : 푸쉬풀방식 옵저버 패턴이랑 비슷한 펍/섭패턴 둘 중 어느걸 쓰는지 궁금하다
실제 코드에서는 펍/섭이 일반적인 구현이다.
큐로 던지고 처리하는 느낌으로 호출이 되었을 때 처리를 해주는 패턴으로 옵저버와는 거리가 먼 걸 사용

데코레이터 패턴의 예시를 이야기해보자
코드를 개발할 때 이미 작성한 코드를 건드리기 싫은 경우 사용  ex) 서비스 객체가 있는데 캐시를 고려하지 않았다가 비즈니스 로직이 달라져서 캐시를 고려해야할 때 기능 추가를 해야하는데 기존 코드를 고치는게 아니라 감싸서 서비스에 적용

옵저버 패턴의 장단점
단점 : 무작위 (순서x) 알람을 받음
장점 : ocp구현 가능

객체지향에서 런타임 때 코드 변경없이 변경 가능에 대해서
실제로 동작 변경 시키는 경우가 많이 있는가? : 거의 없다.. 대부분 구현체를 그대로 썼음 실행시점에 정하기 보단 설계에서 정하고 시작하니까 동적으로 갈아 끼운적은 적다
보통 비즈니스 로직에 따르니까 로직을 갈아끼우지 동적으로 코드를 변경해서 사용한 적은 적다
대부분 구현으로 코드를 작성하면 if문으로 처리하고 인터페이스를 쓰면 실행시점에서 어떤 걸 썼는지 확인이 어렵다. 디버깅이 어려움

데코레이터 패턴 예시가 적절한가?
첨가물이 늘면 늘수록 점점 클래스가 늘어난다 -> 그냥 직관적인 예시일 뿐

Msa 적용을 하는 곳이 있는가?
관리가 힘들어서 모놀로식으로 가는 회사가 많고 실제 스터디원 분 회사 한 곳은 모놀로식으로 돌아감
참고 https://www.itworld.co.kr/t/61023/%EA%B0%9C%EB%B0%9C%EC%9E%90/293089

참고 사이트
https://refactoring.guru/ko/design-patterns
