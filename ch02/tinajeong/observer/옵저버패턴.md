---
marp: true
_class: invert
---

# Ch. 02 ì˜µì €ë²„ íŒ¨í„´

## **ì˜µì €ë²„ íŒ¨í„´**ì€ 
ê°ì²´ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê·¸ì— ì¢…ì†ëœ ë‹¤ë¥¸ ê°ì²´ë“¤ì—ê²Œ ë³€ê²½ì„ ì•Œë ¤ì£¼ëŠ” íŒ¨í„´ì´ë‹¤.  
ì¦‰, ë°ì´í„° ë³€ê²½ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ë°›ëŠ”ë‹¤.  

> `Automated Update Notification`

--- 

## ë¬¸ì œ ìƒí™©: ë°ì´í„°ì˜ ë³€ê²½ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•´ì•¼ í•˜ëŠ” ê²½ìš°
- WeatherData ê°ì²´ì˜ ì •ë³´ê°€ ë³€ê²½ë˜ë©´, ê·¸ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì—¬ëŸ¬ ë””ìŠ¤í”Œë ˆì´ ê°ì²´ë“¤ì´ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼ í•¨.

```java
public class WeatherData {
    private float temperature;
    private float humidity;
    private float pressure;

    public void measurementsChanged() {
        // dataê°€ ë³€ê²½ë  ë•Œ ë§ˆë‹¤, ì—¬ëŸ¬ ë””ìŠ¤í”Œë ˆì´ì—ê²Œ ê°ê° ì•Œë ¤ì£¼ì–´ì•¼ í•¨.
    }
}
```

---

## í•´ê²° ì‹œë„ #1: ê°ì²´ë“¤ì—ê²Œ ì§ì ‘ ì•Œë ¤ì£¼ê¸°

- ìƒˆë¡œìš´ ë””ìŠ¤í”Œë ˆì´ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤, WeatherDataë¥¼ ìˆ˜ì •í•´ì•¼ í•¨.
- WeatherDataê°€ ë””ìŠ¤í”Œë ˆì´ ê°ì²´ì— ëŒ€í•´ ì•Œê³  ìˆì–´ì•¼ í•¨ ğŸ’¥**Tight Coupling**ğŸ’¥

```java
public class WeatherData {
    private float temperature;
    private float humidity;
    private float pressure;
    private CurrentDisplay currentDisplay;
    private StatisticsDisplay statisticsDisplay;
    private ForecastDisplay forecastDisplay;

    public void measurementsChanged() {
        currentDisplay.update(temperature, humidity, pressure);
        statisticsDisplay.update(temperature, humidity, pressure);
        forecastDisplay.update(temperature, humidity, pressure);
    }
}
```

---

## í•´ê²°ì˜ ì•„ì´ë””ì–´ #1: ë°”ë€ŒëŠ” ë¶€ë¶„ì€ ë”°ë¡œ ë½‘ì•„ì„œ ìº¡ìŠí™” í•˜ê¸°
- ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒ (WeatherData)ì™€ ë³€í•˜ëŠ” ê²ƒ (ë””ìŠ¤í”Œë ˆì´) ë¶„ë¦¬.
- WeatherDataì˜ ë³€ê²½ ì‚¬í•­ì— ëŒ€í•´ ê° ë””ìŠ¤í”Œë ˆì´ ê°ì²´ë“¤ì´ ì•Œì•„ì„œ ì²˜ë¦¬í•˜ê²Œ í•˜ê¸°.
    - `Subject`ì˜ ë©”ì†Œë“œëŠ” `Observer`ë¥¼ ì¸ìë¡œ ë°›ëŠ” ë‹¤ëŠ” ê²ƒì— ì£¼ëª©!

---
## í•´ê²°ì˜ ì•„ì´ë””ì–´ #1: ë°”ë€ŒëŠ” ë¶€ë¶„ì€ ë”°ë¡œ ë½‘ì•„ì„œ ìº¡ìŠí™” í•˜ê¸°
```java
public interface Observer {
    public void update(float temp, float humidity, float pressure);
}
/////////////////////////
public interface Subject {
    public void registerObserver(Observer o); // ì˜µì €ë²„ ì¶”ê°€
    public void removeObserver(Observer o); // ì˜µì €ë²„ ì œê±°
    public void notifyObservers(); // ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ë³€í™” ì•Œë ¤ì¤Œ
}

public class WeatherData implements Subject {
    // Subjectì— ëŒ€í•œ ì½”ë“œ
    // Observerë¥¼ ë“±ë¡, ì œê±°, ì•Œë¦¼í•˜ëŠ” ì½”ë“œ
}
////////////////////
public class interface DisplayElement {
    public void display();
}
```
---

## í•´ê²°ì˜ ì•„ì´ë””ì–´ #2: ë””ìŠ¤í”Œë ˆì´ì—ê²Œ ì •ë³´ë¥¼ í‘¸ì‹œí•˜ì§€ ë§ê³ , ë””ìŠ¤í”Œë ˆì´ê°€ í•„ìš”í•œ ì •ë³´ë¥¼ ê°€ì ¸ê°€ê²Œ í•˜ê¸°. (pull)
- ë¶ˆí•„ìš”í•œ ì •ë³´ë¥¼ ë°›ëŠ” ë¬¸ì œ í•´ê²°.
- ë””ìŠ¤í”Œë ˆì´ê°€ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½.

```java
public interface Observer {
    public void update();
}

public class CurrentDisplay implements Observer {
    public void update() {
        // WeatherDataë¡œë¶€í„° í•„ìš”í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´.
    }
}
```
---

## í•´ê²°ì˜ ì•„ì´ë””ì–´ #3: ìë°” ë‚´ì¥ Observable ì‚¬ìš©í•˜ê¸°
- ìë°”ì— ì´ë¯¸ ë‚´ì¥ëœ Observable í´ë˜ìŠ¤ì™€ Observer ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©í•˜ê¸°.
- ë‹¨, Observableì€ í´ë˜ìŠ¤ì´ë¯€ë¡œ, ìƒì†ì„ í•´ì•¼ í•¨. (ë‹¤ì¤‘ ìƒì† ë¬¸ì œ ë“± ì£¼ì˜)

```java
public class WeatherData extends Observable {
    private float temperature;
    private float humidity;
    private float pressure;

    public void measurementsChanged() {
        setChanged();
        notifyObservers();
    }
}
```
---

# ì˜µì €ë²„ Observer íŒ¨í„´ 3ì¤„ ìš”ì•½

> ìœ íŠœë¸Œ êµ¬ë… && ì•Œë¦¼ì„¤ì • && êµ¬ë…ì·¨ì†Œ


- subjectì— ì¢…ì†ëœ observerë“¤ì´, subject ê°ì²´ì˜ **ìƒíƒœ ë³€ê²½ì„ ìë™ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë‹¤.**  (subject : observers = 1 : N)
- subjectì™€ observerëŠ” â­ï¸loosely couplingâ­ï¸ë¨. (ì„œë¡œì— ëŒ€í•´ ì•„ì£¼ ì ê²Œ ì•Œê³  ìˆìŒ)
- subjectê°€ ë³€ê²½ë  ë•Œ, observerë“¤ì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚¸ë‹¤ (push). ë˜ëŠ” observerë“¤ì´ subjectë¡œë¶€í„° ë³€ê²½ ì‚¬í•­ì„ ê°€ì ¸ì˜¨ë‹¤ (pull)




